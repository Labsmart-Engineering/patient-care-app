%template{"x-teleport" => "body"}
  .fixed.inset-0.z-2000.overflow-y-auto{"x-show" => "modelOpen"}
    .flex.items-end.justify-center.min-h-screen.px-4.text-center.md:items-center
      .fixed.inset-0.transition-opacity.bg-slate-700.bg-opacity-40{"x-clock"=> "", "@click" => "modelOpen = false", "x-transition:enter" => "transition ease-out duration-300 transform", "x-transition:enter-start" => "opacity-0", "x-transition:enter-end"=>"opacity-100", "x-transition:leave"=>"transition ease-in duration-200 transform", "x-transition:leave-start"=>"opacity-100", "x-transition:leave-end"=>"opacity-0" }
      .inline-block.w-full.max-w-3xl.my-20.overflow-hidden.text-left.transition-all.transform.bg-white.rounded-lg.shadow-xl.2xl:max-w-2xl{"x-clock"=> "","x-show"=>"modelOpen","x-transition:enter"=>"transition ease-out duration-300 transform", "x-transition:enter-start" => "opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95", "x-transition:enter-end"=>"opacity-100 translate-y-0 sm:scale-100", "x-transition:leave"=>"transition ease-in duration-200 transform", "x-transition:leave-start"=>"opacity-100 translate-y-0 sm:scale-100", "x-transition:leave-end"=>"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" }
        .px-5.py-4.border-b.border-gray-200.bg-slate-50
          .flex.items-center.justify-between.space-x-4
            .inline-flex.items-center
              %h1.text-lg.font-medium.text-slate-800.mb-0 Labsmart Doctor Portal
              .inline-flex.items-center.ml-2.text-pink-600.bg-pink-100.px-2.py-1.rounded-lg
                .text-xs.font-medium
                  NEW LAUNCH
            %button.text-gray-500.hover:text-gray-700{"@click"=>"modelOpen = false"}
              = raw x_circle_icon('h-6 w-6')
        .p-5
          .pb-4.border-b.border-gray-200
            //1
            .flex.items-center
              - if @doctor_access.blank?
                .text-sm.font-medium.text-gray-900
                  Invite #{@referrer.full_name} to use Labsmart DocApp.
                %a.primary-btn-es.ml-auto.focus:text-white{:href => new_doctor_invitation_path(doctor_invitation: {referrer_id: @referrer.id}), target: '_blank'}
                  Invite
                  = raw arrow_right_sm("h-4 w-4 ml-2")
              - elsif @doctor_access.access_granted?
                .text-sm.font-medium.text-gray-900
                  #{@referrer.full_name} has live access.
              - else
                .text-sm.font-medium.text-gray-900
                  #{@referrer.full_name}'s access has been revoked.

          .py-4.border-b.border-gray-200
            .text-sm.text-gray-700.inline-flex.items-center.gap-1
              Want to manage all doctor invites?
              = link_to invited_doctor_accesses_path, class: 'text-blue-600 text-sm inline-flex items-center gap-1', target: '_blank' do
                Manage all invites
                = raw external_link_icon('h-4 w-4')


          - if !current_plan.premium?
            .py-4.border-b.border-gray-200
              .text-sm.text-gray-700
                .inline-flex.items-center
                  = raw info_hero_icon('h-4 w-4 text-gray-500 mr-1')
                  %span
                    %a.underline.text-blue-600.inline-flex.items-center.ml-1.mr-1{:href => upgrade_select_plan_path, target: '_blank'}
                      Upgrade
                  to premium plan to invite more than 5 doctors.

          .grid.grid-cols-2.sm:grid-template-columns.mt-4
            %div
              .text-sm.text-gray-700.font-medium.mb-3
                Benefits
              .flex.flex-col.gap-2
                .inline-flex.items-center.gap-2
                  = inline_svg "icons/clock-outline-icon.svg", class: 'h-5 w-5'
                  .text-gray-700.text-sm
                    Doctor gets realtime access to referred cases.
                .inline-flex.items-start.gap-2
                  = inline_svg "icons/hand-shake.svg", class: 'h-5 w-5'
                  .text-gray-700.text-sm
                    More transparency means better working relationship with doctor.
                .inline-flex.items-center.gap-2
                  = inline_svg "icons/star-sparkle.svg", class: 'h-5 w-5'
                  .text-gray-700.text-sm
                    Standout from other labs.
            %div
              = inline_svg "illustrations/doctor-graphics.svg"

          .pt-4
            .flex.flex-col.gap-4
              %div
                .text-sm.text-gray-700.font-medium.mb-1
                  How to give live access?
                .text-sm.text-gray-700
                  The invited doctors can signup using the link sent to their whatsapp number. The doctor can login to
                  %a.text-blue-600.hover:text-blue-700.inline-flex.items-center.gap-1{href:'https://www.labsmartlis.com/', target: '_blank'}
                    www.labsmartlis.com
                    = raw external_link_icon('h-4 w-4')
                  to access reports of his referred cases in the Labsmart Doctor Portal.
              %div
                .text-sm.text-gray-700.font-medium.mb-1
                  What information can doctor view?
                .text-sm.text-gray-700
                  Doctor can view the information like patient name, age, gender along with investigations registered by the laboratory. Doctor can also view and download reports for registered cases.
